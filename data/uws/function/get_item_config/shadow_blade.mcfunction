give @s minecraft:command_block[item_name='{"text":"Shadow Blade Template"}',block_entity_data={id:"minecraft:command_block",Command:"execute as @p run loot give @s loot {\"pools\":[{\"rolls\":1,\"entries\":[{\"type\":\"minecraft:item\",\"name\":\"minecraft:diamond_sword\",\"functions\":[{\"function\":\"minecraft:set_components\",\"components\":{\"minecraft:custom_data\":\"{uws_item:{type:shadow_blade},uws_effects:{shadow_step:{effects:[{id:invisibility,duration:10,amplifier:2,hide_particles:\\\"true\\\"},{id:speed,duration:10,amplifier:2,hide_particles:\\\"true\\\"}],duration:200,deactivate_conditions:[\\\"crit_hit\\\",\\\"taken_hit\\\"],particle_id:\\\"minecraft:large_smoke\\\",particle_spread:0.2,particle_speed:0,particle_count:30,sound_event_activate:\\\"minecraft:entity.generic.extinguish_fire\\\",sound_pitch_activate:1,sound_event_deactivate:\\\"minecraft:entity.generic.extinguish_fire\\\",sound_pitch_deactivate:1,use_cooldown:600}}}\",\"minecraft:consumable\":{\"consume_seconds\":2147483647,\"sound\":\"minecraft:intentionally_empty\",\"has_consume_particles\":false},\"minecraft:item_name\":\"{\\\"text\\\":\\\"Shadow Blade\\\",\\\"color\\\":\\\"gold\\\"}\",\"minecraft:lore\":[\"{\\\"text\\\":\\\"\\\"}\"]}},{\"function\":\"minecraft:reference\",\"name\":\"uws:item/shadow_blade/update_lang\"}]}]}]}"}]
give @s minecraft:command_block[item_name='{"text":"Shadow Blade Modifier"}',block_entity_data={id:"minecraft:command_block",Command:"item modify entity @p weapon.mainhand [{\"function\":\"minecraft:set_custom_data\",\"tag\":\"{uws_effects:{shadow_step:{effects:[{id:invisibility,duration:10,amplifier:2,hide_particles:\\\"true\\\"},{id:speed,duration:10,amplifier:2,hide_particles:\\\"true\\\"}],duration:200,deactivate_conditions:[\\\"crit_hit\\\",\\\"taken_hit\\\"],particle_id:\\\"minecraft:large_smoke\\\",particle_spread:0.2,particle_speed:0,particle_count:30,sound_event_activate:\\\"minecraft:entity.generic.extinguish_fire\\\",sound_pitch_activate:1,sound_event_deactivate:\\\"minecraft:entity.generic.extinguish_fire\\\",sound_pitch_deactivate:1,use_cooldown:600}}}\"},{\"function\":\"minecraft:set_components\",\"components\":{\"minecraft:consumable\":{\"consume_seconds\":2147483647,\"sound\":\"minecraft:intentionally_empty\",\"has_consume_particles\":false}}}]"}]